<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
    <script>
      window.onload = function(){
   
        function loadInbox(message){
    //ACCESS GEEMAIL DATA      
         for (var i = 0; i < window.geemails.length; i++){
           
    //CREATE DIV w/ ID arrayDiv
          var mailDiv = document.createElement('div');
            mailDiv.id = 'arrayDiv';
            main.appendChild(mailDiv);

    //CREATE ul for sender/subject and date so 
    //that I can display: inline them
          var mailHeader = document.createElement('ul');
            mailHeader.className = 'mailHeader';
            mailDiv.appendChild(mailHeader);

    //THIS FUNCTION CHANGES BCKGRD COLOR WHEN MOUSEOVER/OUT
          var hoverHeader = document.getElementById('arrayDiv');
           mailHeader.addEventListener('mouseover', function(){
             this.style.color = '#989393';  
           });
           
          var hHeader = document.getElementById('arrayDiv');
           mailHeader.addEventListener('mouseout', function(){
             this.style.color = 'inherit';  
           });
          
    //CREATE AN ELEMENT IN DOM FOR SENDER DATA
          var mailSender = document.createElement('li');		
            mailSender.id = 'senderGee';							
            mailSender.innerHTML = message[i].sender;		
            mailHeader.appendChild(mailSender);
    
    //CREATE AN ELEMENT IN DOM FOR SUBJECT DATA
          var mailSubject = document.createElement('li');
            mailSubject.id = 'subjectGee';
            mailSubject.innerHTML = message[i].subject;
            mailHeader.appendChild(mailSubject);

    //CREATE AN ELEMENT IN DOM FOR DATE 
           var mailDate = document.createElement('li');
            mailDate.id = 'dateGee';
            mailDate.innerHTML = message[i].date;
            mailHeader.appendChild(mailDate);

     //ADDED DIV FOR BODY     
          var bodyContent = document.createElement('div');
            bodyContent.className = 'bodyDiv';
            mailDiv.appendChild(bodyContent);
      
                                       
    //CREATE AN ELEMENT IN DOM FOR BODY DATA
          var mailBody = document.createElement('p');
            mailBody.id = 'bodyGee';
            mailBody.innerHTML = message[i].body;
            bodyContent.appendChild(mailBody);	

    //EVENT SHOW AND HIDE BODY!
          var showBody = document.getElementById('main')[0];
            bodyContent.querySelectorAll('p')[0].style.display ='none';
            mailDiv.addEventListener('click', function(){
                this.querySelectorAll('p')[0].style.display = 'block';
              });
            
          var hideBody = document.getElementById('main')[0];
            bodyContent.addEventListener('mouseout', function(){
               this.querySelectorAll('p')[0].style.display = 'none';
             });

         } //END OF GEEMAIL DATA LOOP
      } //END OF LOADINBOX FUNCTION
          loadInbox(window.geemails);
    
    //SHOW INBOX COUNT AND APPEND TO THE ID GIVEN IN HTML
          var count = document.getElementById('count');
                //assign id 'count' to a variable so I can use it to add the total inbox count.
          var inboxTotal = window.geemails.length;
                //declare the inbox total
          var totalCount = document.createTextNode(inboxTotal);
                //creating text node with variable totalCnt
           count.appendChild(totalCount);
                //append text node 'totalCount' to 'count'
    
    //FUNCTION THAT WILL SETINTERVAL TO LOAD NEW MESSAGE
    
          
        
      }; //END OF WINDOW.ONLOAD 
    </script>
	</head>
	<body>
    <header>
      <h1><image src='http://screenshot.it.sftcdn.net/it/scrn/79000/79070/geemail-8.jpg'></image></br>GeeMail</h1>
    </header>
         <div>
        <ul class='inBox'>
          <li><button type="button" id='compose'>Compose</button></li></br></br>
          <li>Inbox (<span id='count'></span>)</li></br></br>
          <li>Important</li></br></br>
          <li>Sent</li></br></br>
          <li>Trash</li></br>
        </ul>
      </div>
  		<div class="container" id="main">
  	        
  		</div>
      
    
	</body>
</html>